/* ============================================
   SHOJIGRID COMPONENT
   ============================================ */

@use '../../styles/mixins/responsive' as *;
@use '../../styles/variables/breakpoints' as bp;
@use 'sass:map';

.zen-shoji-grid {
  display: grid;
  /* Shoji (Japanese room divider) styling - applied by default */
  --shoji-frame: var(--color-neutral-600);
  --shoji-panel: var(--color-neutral-0);
  background-color: var(--shoji-frame);
}

.zen-shoji-grid > * {
  background-color: var(--shoji-panel);
}

/* ----------------------------------------
   GAP VARIANTS
   ---------------------------------------- */

.zen-shoji-grid--gap-none {
  gap: 0;
}

.zen-shoji-grid--gap-sm {
  gap: var(--grid-gap-sm);
}

.zen-shoji-grid--gap-md {
  gap: var(--grid-gap-md);
}

/* ----------------------------------------
   RESPONSIVE PROPS
   ---------------------------------------- */

/* Responsive gap */
@include responsive-prop('zen-shoji-grid', 'gap', 'gap');

/* Responsive columns (grid-template-columns) */
@include responsive-prop('zen-shoji-grid', 'columns', 'grid-template-columns');

/* Responsive grid-template-rows */
/* Note: Using camelCase prop name to match CSS custom property names from TypeScript */
.zen-shoji-grid[data-has-responsive-grid-template-rows='true'] {
  grid-template-rows: var(--shoji-grid-gridTemplateRows-base);
}

@media (min-width: map.get(bp.$breakpoints, 'xs')) {
  /* --breakpoint-xs: 480px */
  .zen-shoji-grid[data-has-responsive-grid-template-rows='true'] {
    grid-template-rows: var(
      --shoji-grid-gridTemplateRows-xs,
      var(--shoji-grid-gridTemplateRows-base)
    );
  }
}

@media (min-width: map.get(bp.$breakpoints, 'sm')) {
  /* --breakpoint-sm: 640px */
  .zen-shoji-grid[data-has-responsive-grid-template-rows='true'] {
    grid-template-rows: var(
      --shoji-grid-gridTemplateRows-sm,
      var(
        --shoji-grid-gridTemplateRows-xs,
        var(--shoji-grid-gridTemplateRows-base)
      )
    );
  }
}

@media (min-width: map.get(bp.$breakpoints, 'md')) {
  /* --breakpoint-md: 1024px */
  .zen-shoji-grid[data-has-responsive-grid-template-rows='true'] {
    grid-template-rows: var(
      --shoji-grid-gridTemplateRows-md,
      var(
        --shoji-grid-gridTemplateRows-sm,
        var(
          --shoji-grid-gridTemplateRows-xs,
          var(--shoji-grid-gridTemplateRows-base)
        )
      )
    );
  }
}

@media (min-width: map.get(bp.$breakpoints, 'lg')) {
  /* --breakpoint-lg: 1280px */
  .zen-shoji-grid[data-has-responsive-grid-template-rows='true'] {
    grid-template-rows: var(
      --shoji-grid-gridTemplateRows-lg,
      var(
        --shoji-grid-gridTemplateRows-md,
        var(
          --shoji-grid-gridTemplateRows-sm,
          var(
            --shoji-grid-gridTemplateRows-xs,
            var(--shoji-grid-gridTemplateRows-base)
          )
        )
      )
    );
  }
}

/* Responsive grid-template-columns */
.zen-shoji-grid[data-has-responsive-grid-template-columns='true'] {
  grid-template-columns: var(--shoji-grid-gridTemplateColumns-base);
}

@media (min-width: map.get(bp.$breakpoints, 'xs')) {
  /* --breakpoint-xs: 480px */
  .zen-shoji-grid[data-has-responsive-grid-template-columns='true'] {
    grid-template-columns: var(
      --shoji-grid-gridTemplateColumns-xs,
      var(--shoji-grid-gridTemplateColumns-base)
    );
  }
}

@media (min-width: map.get(bp.$breakpoints, 'sm')) {
  /* --breakpoint-sm: 640px */
  .zen-shoji-grid[data-has-responsive-grid-template-columns='true'] {
    grid-template-columns: var(
      --shoji-grid-gridTemplateColumns-sm,
      var(
        --shoji-grid-gridTemplateColumns-xs,
        var(--shoji-grid-gridTemplateColumns-base)
      )
    );
  }
}

@media (min-width: map.get(bp.$breakpoints, 'md')) {
  /* --breakpoint-md: 1024px */
  .zen-shoji-grid[data-has-responsive-grid-template-columns='true'] {
    grid-template-columns: var(
      --shoji-grid-gridTemplateColumns-md,
      var(
        --shoji-grid-gridTemplateColumns-sm,
        var(
          --shoji-grid-gridTemplateColumns-xs,
          var(--shoji-grid-gridTemplateColumns-base)
        )
      )
    );
  }
}

@media (min-width: map.get(bp.$breakpoints, 'lg')) {
  /* --breakpoint-lg: 1280px */
  .zen-shoji-grid[data-has-responsive-grid-template-columns='true'] {
    grid-template-columns: var(
      --shoji-grid-gridTemplateColumns-lg,
      var(
        --shoji-grid-gridTemplateColumns-md,
        var(
          --shoji-grid-gridTemplateColumns-sm,
          var(
            --shoji-grid-gridTemplateColumns-xs,
            var(--shoji-grid-gridTemplateColumns-base)
          )
        )
      )
    );
  }
}

/* Responsive grid-template-areas */
.zen-shoji-grid[data-has-responsive-grid-template-areas='true'] {
  grid-template-areas: var(--shoji-grid-gridTemplateAreas-base);
}

@media (min-width: map.get(bp.$breakpoints, 'xs')) {
  /* --breakpoint-xs: 480px */
  .zen-shoji-grid[data-has-responsive-grid-template-areas='true'] {
    grid-template-areas: var(
      --shoji-grid-gridTemplateAreas-xs,
      var(--shoji-grid-gridTemplateAreas-base)
    );
  }
}

@media (min-width: map.get(bp.$breakpoints, 'sm')) {
  /* --breakpoint-sm: 640px */
  .zen-shoji-grid[data-has-responsive-grid-template-areas='true'] {
    grid-template-areas: var(
      --shoji-grid-gridTemplateAreas-sm,
      var(
        --shoji-grid-gridTemplateAreas-xs,
        var(--shoji-grid-gridTemplateAreas-base)
      )
    );
  }
}

@media (min-width: map.get(bp.$breakpoints, 'md')) {
  /* --breakpoint-md: 1024px */
  .zen-shoji-grid[data-has-responsive-grid-template-areas='true'] {
    grid-template-areas: var(
      --shoji-grid-gridTemplateAreas-md,
      var(
        --shoji-grid-gridTemplateAreas-sm,
        var(
          --shoji-grid-gridTemplateAreas-xs,
          var(--shoji-grid-gridTemplateAreas-base)
        )
      )
    );
  }
}

@media (min-width: map.get(bp.$breakpoints, 'lg')) {
  /* --breakpoint-lg: 1280px */
  .zen-shoji-grid[data-has-responsive-grid-template-areas='true'] {
    grid-template-areas: var(
      --shoji-grid-gridTemplateAreas-lg,
      var(
        --shoji-grid-gridTemplateAreas-md,
        var(
          --shoji-grid-gridTemplateAreas-sm,
          var(
            --shoji-grid-gridTemplateAreas-xs,
            var(--shoji-grid-gridTemplateAreas-base)
          )
        )
      )
    );
  }
}

/* ----------------------------------------
   SHOJIGRID CELL
   ---------------------------------------- */

.zen-shoji-grid-cell {
  min-width: 0; /* Prevent grid blowout */
}
